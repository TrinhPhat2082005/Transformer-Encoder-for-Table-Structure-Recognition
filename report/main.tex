% ============================================================================
% MAIN.TEX - ClusTabNet: Table Structure Recognition Report
% Professional LaTeX Report Structure
% ============================================================================
\documentclass[12pt,a4paper,oneside]{report}

% ============================================================================
% PACKAGES
% ============================================================================
% Encoding and Language
\usepackage[utf8]{inputenc}
\usepackage[vietnamese]{babel}
\usepackage[T5]{fontenc}

% Page Layout
\usepackage[
    a4paper,
    top=2.5cm,
    bottom=2.5cm,
    left=3cm,
    right=2cm
]{geometry}

% Typography
\usepackage{times}              % Times New Roman-like font
\usepackage{setspace}           % Line spacing
\onehalfspacing                 % 1.5 line spacing

% Mathematics
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathtools}

% Graphics and Colors
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{float}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning,calc,matrix,fit,backgrounds}

% Tables
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{array}
\usepackage{tabularx}

% Code Listings
\usepackage{listings}
\usepackage{algorithm}
\usepackage{algorithmic}

% Hyperlinks and References
\usepackage[hidelinks]{hyperref}
\usepackage{cleveref}

% Headers and Footers
\usepackage{fancyhdr}

% Table of Contents and Section Formatting
\usepackage{titlesec}
\usepackage{titletoc}

% Caption Formatting
\usepackage{caption}

% Enumeration
\usepackage{enumitem}

% Bibliography
\usepackage[
    backend=biber,
    style=ieee,
    sorting=nyt
]{biblatex}
\addbibresource{references.bib}

% ============================================================================
% CUSTOM COLORS
% ============================================================================
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{chaptercolor}{RGB}{0,51,102}

% ============================================================================
% LISTING CONFIGURATION
% ============================================================================
\lstdefinestyle{pythonstyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    language=Python
}
\lstset{style=pythonstyle}

% ============================================================================
% CHAPTER AND SECTION FORMATTING
% ============================================================================
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries\color{chaptercolor}}
{\chaptertitlename\ \thechapter}{20pt}{\Huge}

\titleformat{\section}
{\normalfont\Large\bfseries\color{chaptercolor}}
{\thesection}{1em}{}

\titleformat{\subsection}
{\normalfont\large\bfseries}
{\thesubsection}{1em}{}

\titleformat{\subsubsection}
{\normalfont\normalsize\bfseries}
{\thesubsubsection}{1em}{}

% ============================================================================
% HEADER AND FOOTER
% ============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0pt}

% Chapter pages - plain style but with page number
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\thepage}
    \renewcommand{\headrulewidth}{0pt}
}

% ============================================================================
% CAPTION FORMATTING
% ============================================================================
\captionsetup{
    justification=centering,
    labelfont=bf,
    font=small
}

% ============================================================================
% CUSTOM COMMANDS
% ============================================================================
% Math operators
\DeclareMathOperator{\softmax}{softmax}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}

% Bold vectors
\newcommand{\vect}[1]{\boldsymbol{#1}}

% Highlight box for important notes
\newcommand{\notebox}[1]{
    \begin{center}
    \fcolorbox{black}{yellow!20}{
        \parbox{0.9\textwidth}{\textbf{Lưu ý:} #1}
    }
    \end{center}
}

% ============================================================================
% DOCUMENT INFORMATION
% ============================================================================
\newcommand{\reporttitle}{ClusTabNet: Nhận Dạng Cấu Trúc Bảng Sử Dụng Clustering và Transformer}

\newcommand{\supervisor}{TS Nguyễn Hứa Phùng}
\newcommand{\coursename}{ĐỒ ÁN TỔNG HỢP - HƯỚNG TRÍ TUỆ NHÂN TẠO (CO3101)}
\newcommand{\department}{KHOA KHOA HỌC VÀ KỸ THUẬT MÁY TÍNH}
\newcommand{\studentOne}{Trịnh Nguyên Phát - 2312603}
\newcommand{\studentTwo}{Nguyễn Trọng Nghĩa - 2312271}
\newcommand{\university}{Trường Đại Học Bách Khoa - ĐHQG TP.HCM}

% ============================================================================
% BEGIN DOCUMENT
% ============================================================================
\begin{document}

% Cover Page
\input{sections/cover}

% Front Matter
\pagenumbering{roman}

% Abstract
\input{sections/abstract}

% Table of Contents
\setcounter{tocdepth}{1}  % Only show up to section (1.1), exclude subsection (1.1.1)
\tableofcontents
\clearpage

% List of Figures (optional)
\listoffigures
\clearpage

% List of Tables (optional)
\listoftables
\clearpage

% Main Content
\pagenumbering{arabic}

% Chapter 1: Introduction
\input{sections/chapter1_introduction}

% Chapter 2: Background Knowledge
\input{sections/chapter2_background}

% Chapter 3: Requirement Analysis and Design
\input{sections/chapter3_design}

% Chapter 4: Implementation and Testing
\input{sections/chapter4_implementation}

% Chapter 5: Conclusion
\input{sections/chapter5_conclusion}

% References
\printbibliography[heading=bibintoc,title={Tài Liệu Tham Khảo}]

% Appendices (removed)
% \appendix
% \input{sections/appendix}

\end{document}
